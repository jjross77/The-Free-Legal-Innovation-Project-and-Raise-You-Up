<!doctype html>
<html>
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
{% load static %}
<link href="{% static 'output.css' %}" rel="stylesheet">
</head>
<body>
{% block content %}
 <div class="text-center py-3">
<h1><span class="text-info"> Legal Issue Database </span> </h1>
<div class="m-8">
        <ul class="flex text-xl flex-row justify-center space-x-16">
                <li>
                    <a class="text-xl green-400" href="{% url 'website_name' %}">website_name</a>
                </li>
                <li>
                    <a class="text-xl text-blue-400" href="{% url 'question_answered' %}">question_answered</a>
                </li>
                <li>
                    <a class="text-xl text-blue-400" href="{% url 'product_1' %}">product_1</a>
                </li>
                <li>
                    <a class="text-xl text-blue-400" href="{% url 'product_2' %}">product_2</a>
                </li>
                <li>
                    <a class="text-xl text-blue-400" href="{% url 'product_3' %}">product_3</a>
                </li>

            
</ul>
</div>
<!-- anything below this we will remove later using chatgpt to generate content--> 

  <div class="flex justify-center items-center w-full">

  <form action="{% url 'contact' %}" method="POST" class="bg-white p-10 rounded-lg shadow-lg w-1/2  blue-100">
  {% csrf_token %}
       <div class="mb-4">
      <label for="Problem" class="block text-gray-600 font-medium">Name</label>
      <input type="text" id="problem" name="problem" required class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 " placeholder="Problem here">
    </div>
</form> 
</div>


 <form action="submit_form.php" method="POST">
   <div class="mb-4">
     <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
     <textarea
       id="message"
       name="message"
       rows="4"
       class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
       placeholder="Enter your message"
       required
     ></textarea>
   </div>

   <button
     type="submit"
     class="w-full py-2 px-4 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
   >
     Submit
   </button>
 </form>
 
  <form  method="GET" action="" >
    <input class="add_your_class" type="search" name="search"> 
    <button class="add_your_class" type="submit"> Search </button>
</form>

<form id="set_problem_form">
    <br><br>
    <label for="name">SET PROBLEM:</label>
    <input type="text" id="problem" name="problem" required>
    <br><br>
    <button type="submit">Update Table</button>
</form>
<script>
   document.getElementById('set_problem_form').addEventListener('submit', function(event) {
   // call an api to the databasse and then update the data
   
     // the form input values must be created in a specfic way to get this to work
     event.preventDefault(); // Prevent the form from submitting traditionally
     const formData = new FormData(set_problem_form);  // 'this' refers to the form
     console.log(formData)
     const formObject = {};
     formData.forEach((value, key) => {
       formObject[key] = value;
     });
     problem=formObject.problem
     console.log(formObject)
     console.log(problem)

     const params = new URLSearchParams({
  key1: problem,
  key2: 'value2'
});
const url = `/set-working-problem/?${params.toString()}`;

     
     fetch(url, {
        method:'GET',
        headers:{
         'Content-Type':'application/json',
         'X-CSRFToken': getCookie('csrftoken') // CSRF token for protection (if needed)

        }, 
       })
       .then((response) => {
          return response.json(); //converts response to json
       })
       .then((data) => {
            });   
             
     console.log('hi')
      });      
      // send get request to server and retrieve data for search
       
       function getCookie(name) {
         let cookieValue = null;
         if (document.cookie && document.cookie !== '') {
           const cookies = document.cookie.split(';');
           for (let i = 0; i < cookies.length; i++) {
             const cookie = cookies[i].trim();
             if (cookie.substring(0, name.length + 1) === (name + '=')) {
               cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
               break;
             }
           }
         }
         return cookieValue;
         // need to then retrieve data and update values in grid
       }  
 </script>
 
 
 



<form id="search_form">
    <br><br>
    <label for="name">SEARCH:</label>
    <input type="text" id="problem" name="problem" required>
    <br><br>
    <button type="submit">Update Table</button>
</form>

<script>
   document.getElementById('search_form').addEventListener('submit', function(event) {
   // call an api to the databasse and then update the data
   
     // the form input values must be created in a specfic way to get this to work
     event.preventDefault(); // Prevent the form from submitting traditionally
     const formData = new FormData(search_form);  // 'this' refers to the form
     console.log(formData)
     const formObject = {};
     formData.forEach((value, key) => {
       formObject[key] = value;
     });
     problem=formObject.problem
     console.log(formObject)
     console.log(problem)

     const params = new URLSearchParams({
  key1: problem,
  key2: 'value2'
});
const url = `/add-strategy/?${params.toString()}`;

     
     fetch(url, {
        method:'GET',
        headers:{
         'Content-Type':'application/json',
         'X-CSRFToken': getCookie('csrftoken') // CSRF token for protection (if needed)

        }, 
       })
       .then((response) => {
          return response.json(); //converts response to json
       })
       .then((data) => {
       
           console.log('data:',data)
           //Perform actions with the response data from the view
           // send data to fill different grid values 
           // clear all the tables in the grid
           var table_names = ["updatetable1", "updatetable2", "updatetable3","updatetable4","updatetable5","updatetable6"];
           //var table_objects_dic = [];
           var table_objects_array = [];
           for (const table_namee of table_names){
               console.log(table_namee);
               var query_str_list = ["#",table_namee," tbody"]
               var query_str=query_str_list.join('')
               const tableBody = document.querySelector(query_str);
               tableBody.innerHTML = '';
               // save table objects
               table_objects_array.push(tableBody)
               //table_objects_dic.push({ key:table_namee,value: tableBody});
               
               }
             //console.log(table_objects_dic);

           fill_psp_grids(data,table_objects_array)// fill all the grids
            });   
             
     console.log('hi')
      });      
      // send get request to server and retrieve data for search
      
      function fill_psp_grids(data,table_objects_array) {
      data.forEach(problem => {
      // get the talbe name
      table_namee=problem.table;
      console.log(table_namee);
      table_num= table_namee.match(/\d+/);
      table_num=parseInt(table_num)-1
      console.log(table_num);
      tableBody=table_objects_array[table_num]
      console.log(tableBody);
      const row = document.createElement('tr');
      row.classList.add('border-b' ,'border-gray-300', 'hover:bg-gray-100');
      const nameCell = document.createElement('td');
      const ageCell = document.createElement('td');
      const meow_cell = document.createElement('td');
      nameCell.classList.add('px-1','py-1');
      nameCell.id = problem.id;
      nameCell.innerText = problem.problem;
      ageCell.innerText = problem.problem;
      meow_cell.innerText = problem.problem;
      row.appendChild(nameCell);
      row.appendChild(ageCell);
      row.appendChild(meow_cell);
      tableBody.appendChild(row); 
      add_problem_button_listener(button_id,problem.name)  
      }); }
      
      
     


       
//const object = {'updatetable1': data, 'updatetable2': data, 'updatetable3' : data,'updatetable4' : data,'updatetable5' : data,'updatetable6' : data};
//for (const [table_name, dataa] of Object.entries(object)) {
//  console.log(table_name, dataa);
//  fill_psp_table(table_name,dataa)
//}
//table_names.forEach(fill_psp_table);      
//}   
       
function fill_psp_table(table_namee,data){      
console.log('grid!') 
//var table_namee= table_name[0]
//var data= table_name[1]
var query_str_list = ["#",table_namee," tbody"]
var query_str=query_str_list.join('')
const tableBody = document.querySelector(query_str);                 
// Clear existing table rows
tableBody.innerHTML = '';
// Loop through the data and add rows to the table
console.log('hmtl')           
data.forEach(problem => {
    const row = document.createElement('tr');
    
    // will need to test this


    row.classList.add('border-b' ,'border-gray-300', 'hover:bg-gray-100');
    const nameCell = document.createElement('td');
    const ageCell = document.createElement('td');
    const meow_cell = document.createElement('td');
    nameCell.classList.add('px-1','py-1');
    nameCell.innerText = problem.name;
    nameCell.id = 'ID';
    ageCell.innerText = problem.name;
    meow_cell.innerText = problem.name;
    row.appendChild(nameCell);
    row.appendChild(ageCell);
    row.appendChild(meow_cell);
    tableBody.appendChild(row);
    add_problem_button_listener(button_id,problem.name)
    // send in proper data into function to get it to work
    // add in listender that corresponds to the listeners done below for each cell created
    // just need to find how to add id to an element
});           
  }
  
  

       function add_problem_button_listener(button_id,column_content){
       document.getElementById('{{ button_id }}button').addEventListener('click', function(event) {
       console.log('meow')
       // get data from the element associated with this button
       // call an api to the databasse and then update the data
         // the form input values must be created in a specfic way to get this to work
         event.preventDefault(); // Prevent the form from submitting traditionally                
         const params = new URLSearchParams({
      key1: 'column_content',
      key2: 'value2'
    });
    const url = `/set-working-problem/?${params.toString()}`;

         
         fetch(url, {
            method:'GET',
            headers:{
             'Content-Type':'application/json',
             'X-CSRFToken': getCookie('csrftoken') // CSRF token for protection (if needed)

            }, 
           })
           .then((response) => {
              return response.json(); //converts response to json
           })
           .then((data) => {
                });   
                 
         console.log('hi')
          });      
          // send get request to server and retrieve data for search
  
           
       }
       
       function get_request(){
       fetch('/get-data/', {
          method:'GET',
          headers:{
           'Content-Type':'application/json',
           'X-CSRFToken': getCookie('csrftoken') // CSRF token for protection (if needed)

          }, 
         })
         .then((response) => {
            return response.json(); //converts response to json
         })
         .then((data) => {
             console.log('data:',data)
             
          //Perform actions with the response data from the view
         });
       }
       
       
       function getCookie(name) {
         let cookieValue = null;
         if (document.cookie && document.cookie !== '') {
           const cookies = document.cookie.split(';');
           for (let i = 0; i < cookies.length; i++) {
             const cookie = cookies[i].trim();
             if (cookie.substring(0, name.length + 1) === (name + '=')) {
               cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
               break;
             }
           }
         }
         return cookieValue;
         // need to then retrieve data and update values in grid
       }  
 </script>






 <form id="updateForm">
     <br><br>
     <label for="name">POST:</label>
     <input type="text" id="problem" name="problem" required>
     <br><br>
     <button type="submit">Update Table</button>
 </form>
 <script>
    document.getElementById('updateForm').addEventListener('submit', function(event) {
    // call an api to the databasse and then update the data
    
      // the form input values must be created in a specfic way to get this to work
      event.preventDefault(); // Prevent the form from submitting traditionally
      const formData = new FormData(updateForm);  // 'this' refers to the form
      console.log(formData)
      const formObject = {};
      formData.forEach((value, key) => {
        formObject[key] = value;
      });
      console.log(formObject)
      // Send the data to Django backend via fetch (AJAX request)
      fetch('/submit-data/', {
        method: 'POST', // POST method
        headers: {
          'Content-Type': 'application/json',
          'X-CSRFToken': getCookie('csrftoken') // CSRF token for protection (if needed)
        },
        body: JSON.stringify(formObject) // Convert form data to JSON string
      })
      .then(response => response.json())
      .catch(error => {
        console.error('Error:', error);
        document.getElementById('responseMessage').textContent = 'Error: Could not submit form';
      });
    });

    // Utility function to get the CSRF token from cookies (if using CSRF protection)
    function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
          const cookie = cookies[i].trim();
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
      // need to then retrieve data and update values in grid
    }
  </script>
 
 
 

 

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6">
  <!-- Grid 1 -->
  <div class="col-span-1 bg-blue-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 1</h3>
    <p>Content for grid 1 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable1">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Jane Smith</td>
          <td class="px-6 py-4">janesmith@example.com</td>
          <td class="px-6 py-4">Editor</td>
          <td class="px-6 py-4">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
 <td class="px-6 py-4">  <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>
</td>

        </tr>
      </tbody>
    </table>
  </div>
   <div class="col-span-1 bg-blue-100 p-4 rounded-lg shadow-md">
     <h3 class="text-lg font-semibold">Grid 1</h3>
     <p>Content for grid 2 goes here.</p>
     <table class="min-w-full table-auto border-collapse" id="updatetable2">
       <thead>
       <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>
         <tr class="bg-gray-200 text-gray-600">
         
           <th class="px-6 py-3 text-left">Name</th>
           <th class="px-6 py-3 text-left">Email</th>
           <th class="px-6 py-3 text-left">Role</th>
           <th class="px-6 py-3 text-left">Date Joined</th>
         </tr>
       </thead>
       <tbody>
         <tr class="border-b border-gray-300 hover:bg-gray-100">
           <td class="px-6 py-4">John Doe</td>
           <td class="px-6 py-4">johndoe@example.com</td>
           <td class="px-6 py-4">Admin</td>
           <td class="px-6 py-4">Jan 1, 2025</td>
         </tr>
         <tr class="border-b border-gray-300 hover:bg-gray-100">
           <td class="px-6 py-4">Jane Smith</td>
           <td class="px-6 py-4">janesmith@example.com</td>
           <td class="px-6 py-4">Editor</td>
           <td class="px-6 py-4">Feb 15, 2024</td>
         </tr>
         <tr class="border-b border-gray-300 hover:bg-gray-100">
           <td class="px-6 py-4">Alice Johnson</td>
            <td class="px-6 py-4">  <button id="button_" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>
           </td>
          
           


         </tr>
       </tbody>
     </table>
   </div>
   
   
   
  <!-- Grid 2 -->
  <div class="col-span-1 bg-blue-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 2</h3>
    <p>Content for grid 2 goes here.</p>
        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>
        <table class="min-w-full table-auto border-collapse" id="updatetable3">
          <thead>
            <tr class="bg-gray-200 text-gray-600">
              <th class="px-6 py-3 text-left">Name</th>
              <th class="px-6 py-3 text-left">Email</th>
              <th class="px-6 py-3 text-left">Role</th>
              <th class="px-6 py-3 text-left">Date Joined</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-gray-300 hover:bg-gray-100">
              <td class="px-6 py-4">John Doe</td>
              <td class="px-6 py-4">johndoe@example.com</td>
              <td class="px-6 py-4">Admin</td>
              <td class="px-6 py-4">Jan 1, 2025</td>
            </tr>
            <tr class="border-b border-gray-300 hover:bg-gray-100">
              <td class="px-6 py-4">Jane Smith</td>
              <td class="px-6 py-4">janesmith@example.com</td>
              <td class="px-6 py-4">Editor</td>
              <td class="px-6 py-4">Feb 15, 2024</td>
            </tr>
            <tr class="border-b border-gray-300 hover:bg-gray-100">
              <td class="px-6 py-4">Alice Johnson</td>
              <td class="px-6 py-4">alicej@example.com</td>
              <td class="px-6 py-4">Subscriber</td>
              <td class="px-6 py-4">March 10, 2023</td>
                  <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

            </tr>
          </tbody>
        </table>
        

  </div>
  <!-- Grid 3 -->
  <div class="col-span-1 bg-blue-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 3</h3>
    <p>Content for grid 3 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable4">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>

      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">

          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Jane Smith</td>
          <td class="px-6 py-4">janesmith@example.com</td>
          <td class="px-6 py-4">Editor</td>
          <td class="px-6 py-4">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
         <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>


        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Grid 4 -->
  <div class="col-span-1 bg-blue-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 4</h3>
    <p>Content for grid 4 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable5">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Jane Smith</td>
          <td class="px-6 py-4">janesmith@example.com</td>
          <td class="px-6 py-4">Editor</td>
          <td class="px-6 py-4">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
        <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  <!-- Grid 5 -->
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable6">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-1 py-1">Jane Smith</td>
          <td class="px-1 py-1">janesmith@example.com</td>
          <td class="px-1 py-1">Editor</td>
          <td class="px-1 py-1">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  <!-- Grid 6 -->
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable7">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-1 py-1">Jane Smith</td>
          <td class="px-1 py-1">janesmith@example.com</td>
          <td class="px-1 py-1">Editor</td>
          <td class="px-1 py-1">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  
  
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable8">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-1 py-1">Jane Smith</td>
          <td class="px-1 py-1">janesmith@example.com</td>
          <td class="px-1 py-1">Editor</td>
          <td class="px-1 py-1">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  
  
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable9">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-1 py-1">Jane Smith</td>
          <td class="px-1 py-1">janesmith@example.com</td>
          <td class="px-1 py-1">Editor</td>
          <td class="px-1 py-1">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  
  
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable10">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-1 py-1">Jane Smith</td>
          <td class="px-1 py-1">janesmith@example.com</td>
          <td class="px-1 py-1">Editor</td>
          <td class="px-1 py-1">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable11">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">John Doe</td>
          <td class="px-6 py-4">johndoe@example.com</td>
          <td class="px-6 py-4">Admin</td>
          <td class="px-6 py-4">Jan 1, 2025</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-1 py-1">Jane Smith</td>
          <td class="px-1 py-1">janesmith@example.com</td>
          <td class="px-1 py-1">Editor</td>
          <td class="px-1 py-1">Feb 15, 2024</td>
        </tr>
        <tr class="border-b border-gray-300 hover:bg-gray-100">
          <td class="px-6 py-4">Alice Johnson</td>
          <td class="px-6 py-4">alicej@example.com</td>
          <td class="px-6 py-4">Subscriber</td>
          <td class="px-6 py-4">March 10, 2023</td>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>

        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="col-span-1 bg-pink-100 p-4 rounded-lg shadow-md">
    <h3 class="text-lg font-semibold">Grid 5</h3>
    <p>Content for grid 5 goes here.</p>
    <table class="min-w-full table-auto border-collapse" id="updatetable112">
      <thead>
        <tr class="bg-gray-200 text-gray-600">
          <th class="px-6 py-3 text-left">Name</th>
          <th class="px-6 py-3 text-left">Email</th>
          <th class="px-6 py-3 text-left">Role</th>
          <th class="px-6 py-3 text-left">Date Joined</th>
        </tr>
      </thead>
      <tbody>
      {% for item1, item2 in mylist %}

            <tr class="border-b border-gray-300 hover:bg-gray-100">

        <td id='{{ item2 }}' class="px-6 py-4">{{ item1 }} </td>
        <td  class="px-6 py-4">  <button id='{{ item2 }}button' type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">Button 1</button>
       </td>
              </tr>
              <script>
              document.getElementById('{{ item2 }}button').addEventListener('click', function(event) {
              console.log('meow')
              // get data from the element associated with this button
              // call an api to the databasse and then update the data
                // the form input values must be created in a specfic way to get this to work
                event.preventDefault(); // Prevent the form from submitting traditionally                
                const params = new URLSearchParams({
             key1: '{{ item1 }}',
             key2: 'value2'
           });
           const url = `/set-working-problem/?${params.toString()}`;

                
                fetch(url, {
                   method:'GET',
                   headers:{
                    'Content-Type':'application/json',
                    'X-CSRFToken': getCookie('csrftoken') // CSRF token for protection (if needed)

                   }, 
                  })
                  .then((response) => {
                     return response.json(); //converts response to json
                  })
                  .then((data) => {
                       });   
                        
                console.log('hi')
                 });      
                 // send get request to server and retrieve data for search
                  
                  function getCookie(name) {
                    let cookieValue = null;
                    if (document.cookie && document.cookie !== '') {
                      const cookies = document.cookie.split(';');
                      for (let i = 0; i < cookies.length; i++) {
                        const cookie = cookies[i].trim();
                        if (cookie.substring(0, name.length + 1) === (name + '=')) {
                          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                          break;
                        }
                      }
                    }
                    return cookieValue;
                    // need to then retrieve data and update values in grid
                  } 
                                              

              </script>

{% endfor %} 

      </tbody>
    </table>
  </div>
  
  
  
  
  \\add event listenders for all buttons in these tables
  \\ dont hard code list instead generate it from database
  \\ use django to do this? or javascript
  \\get text relative to another element in html
  <script>
  let elements =document.getElementsByClassName("bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none");

  //getElementsByClassName()
  //let elements = document.querySelectorAll('td');
for (const element of elements) {
  console.log(element);
}
  </script>
  </main>



{% endblock %}



</body>
</html>

